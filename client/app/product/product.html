<link rel="stylesheet" href="bower_components/angular-tablesort/tablesort.css" />
<form name="product_form">
    <!-- <div class="col-sm-12">
      <div class="box">
        <h1>Products Manager</h1>
        <div class="alert alert-info">Shipping will be free, if no weight specified</div>
      </div>
    </div> -->

  <div class="col-md-7">
      <button type="button" class="btn btn-danger" ng-click="edit({});"><i class="fa fa-plus"></i>&nbsp;Add New</button>
      <button type="submit" class="btn btn-info" ng-click="save(product);"><i class="fa fa-save"></i> &nbsp;Save</button>
      &nbsp;&nbsp;<a ui-sref="productDetail({id:product._id, slug:product.slug})">{{product.name}}</a>
      <button type="button" class="btn" ng-click="delete(product);" ng-if="product._id"><i class="fa fa-trash"></i>&nbsp;Delete</button>

      <hr/>
    <div class="box" ng-if="product._id">
    <form class="form-horizontal" role="form">
      <div class="form-group">
          <div class="col-md-12">
              <div class="form-group row">
                <label for="id" class="col-md-1 control-label">ID</label>
                <div class="col-md-2">
                    <input ng-model="product.id" type="text" disabled="" class="form-control" placeholder="ID"/>
                </div>
                <label for="sku" class="col-md-1 control-label">SKU</label>
                <div class="col-md-2">
                    <input ng-model="product.sku" type="text" class="form-control" placeholder="SKU"/>
                </div>
                <label for="name" class="col-md-1 control-label text-right">Name</label>
                <div class="col-md-5">
                    <input ng-model="product.name" type="text" class="form-control" placeholder="Name"/>
                </div>
              </div>
              <hr/>
                <div class="form-group row">
                  <label for="id" class="col-md-2 control-label">Platform</label>
                  <div class="col-md-8">
                    <select ng-model="product.category" ng-options="option.name for option in categories | orderBy:'name' track by option._id" class="form-control">
                        <option value="">Select Platform</option>
                    </select>
<!-- 
                    <ui-select ng-model="product.category" theme="bootstrap" title="Select Category">
                      <ui-select-match  class="ui-select-match" placeholder="Select Category...">{{$select.selected.name}} </ui-select-match>
                      <ui-select-choices class="ui-select-choices" repeat="c in categories | propsFilter: {name: $select.search}">
                        <span ng-bind-html="c.name | highlight: $select.search"></span>
                      </ui-select-choices>
                    </ui-select> -->

                  </div>
                 
              </div>
              <hr/>
               <div class="form-group row">
                  
               
                  <label for="id" class="col-md-2 control-label">Category</label>
                  <div class="col-md-8">
                    <select ng-model="product.brand" ng-options="i.name for i in brands | orderBy:'name' track by i._id" class="form-control">
                        <option value="">Select Brand</option>
                    </select>

                    <!-- <ui-select multiple ng-model="product.brand" close-on-select="false" theme="bootstrap" title="Select Brand">
                      <ui-select-match  class="ui-select-match" placeholder="Select Brand...">{{$item.name}} </ui-select-match>
                      <ui-select-choices   class="ui-select-choices" repeat="b in brands | propsFilter: {name: $select.search}">
                      <span ng-bind-html="b.name | highlight: $select.search"></span>
                      </ui-select-choices>
                    </ui-select> -->
                  </div>
              </div>
              <hr/>
               <div class="form-group row">
                  <label for="logo" class="col-md-2 control-label">Logo</label>
                  <div class="col-md-12">
                    <input class="form-control"  type="file" ng-model="product.logo" name="inputFile" base-sixty-four-input  maxsize="500" accept="image/*">
                  </div>
              </div>

              <hr/>
                <div class="form-group row">
                  <label for="id" class="col-md-2 control-label">Description</label>
                  <div class="col-md-12">
                    <textarea ng-model="product.info" class="form-control"></textarea>
                  </div>
              </div>
              <hr/>
               <div class="form-group row">
                  <label for="id" class="col-md-2 control-label">Phone</label>
                  <div class="col-md-4">
                   <input ng-model="product.phone" type="text" class="form-control" placeholder="Phone"/>

                  </div>
                  <label for="id" class="col-md-1 control-label">Email</label>
                  <div class="col-md-4">
                 <input ng-model="product.email" type="text" class="form-control" placeholder="Email"/>
                  </div>
              </div>
          </div>
      </div>

<hr/>

<hr/>
<!-- <div class="clearfix"></div>
<div class="panel panel-primary">
  <div class="panel-heading">Key Features</div>
  <div class="panel-body">
    <table class="table table-striped table-responsive">
    <thead>
        <tr>
            <th>#</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="kf in product.keyFeatures track by $index">
            <td>{{$index+1}}</td>
            <td><input type="text" ng-model="product.keyFeatures[$index]" style="width:150px;" placeholder="Feature"/></td>
            <td>
                <div class="btn-group">
                  <button type="button" class="btn btn-danger" ng-click="deleteKF($index,product);"><i class="fa fa-trash-o"></i></button>
                </div>
            </td>
        </tr>
        <tr>
            <td>New</td>
            <td><input type="text" ng-model="newKF.val" style="width:150px;" placeholder="Key Feature"></input></td>
            <td>

            </td>
        </tr>
    </tbody>
    </table>
</div>
</div> -->
<hr/>

<div class="clearfix"></div>
 
  </form>
</div>
<div dw-loading="products" dw-loading-options="{text: ''}"></div>
<div class="box" ng-if="!product._id">
  <h3>Click on the product name to view details... <i class="fa fa-arrow-right"></i></h3>
</div>
</div>


<div class="col-md-5" style="margin-top: 73px">
<div class="panel panel-primary">
  <div class="panel-heading">List of products
      <div class="sw-search" >
            <div class="nav-search" id="nav-search">
                    <span class="input-icon">
                        <input placeholder="Filter products list ..." class="nav-search-input" ng-model="filter" autocomplete="off" type="text" autofocus>
                        <i class="search-icon fa fa-search nav-search-icon"></i>
                    </span>
            </div>
        </div>
    </div>
  <div class="panel-body">
    <div infinite-scroll='loadMore()'>
    <table class="table table-striped table-responsive" ts-wrapper>
    <thead>
        <tr>
            <th ts-criteria="id">ID</th>
            <th ts-criteria="name">Name</th>
            <th ts-criteria="active">Status</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="p in products | filter:filter" id="{{p._id}}" animate-on-change='p.price+p.quantity+p.size+p.name' ng-animate="'animate'" ts-repeat>
            <!-- <td><img src="images/{{p.category}}/{{p.image}}"/> </td>--><td>{{$index+1}}</td><td><a href=""  ng-click="productDetail(p);">{{p.name}}</a></td>
            <td>
                <button class="btn" ng-class="{true:'btn-success', false:''}[p.active]" ng-click="changeActive(p);">{{p.active | active}}</button>
            </td>
        </tr>
    </tbody>
    </table>
</div> <!-- Infinite Scroll -->
</div>
</div>

</div>

  <div class="col-sm-12">

       <div class="box" ng-if="product._id">



          <div ng-cloak>
            <md-content>
              <md-tabs md-dynamic-height md-border-bottom>
                <md-tab label="Features">
                  <md-content class="md-padding">
                    
                      <section layout="row" flex>
             
                    <md-content flex layout-padding>
                     <table class="table table-striped table-responsive">
    <thead>
        <tr>
            <th>#</th>
            <th>Key</th>
            <th>Value</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="feature in product.features track by $index">
            <td>{{$index+1}}</td>
            <td>
              <input type="text" ng-model="feature.key" ng-value="{{feature.key}}" style="width:150px;" placeholder="Key"/>
              <!-- <select ng-model="newFK.key" ng-value="{{feature.key}}" ng-options="o.key as o.key for o in features | unique: 'key'" class="form-control">
                  <option value="">Select Feature Key</option>
              </select> -->
            </td>
            <td>
            <input type="text" ng-model="feature.val" ng-value="{{feature.key}}" style="width:150px;" placeholder="Key"/>
             <!--  <select ng-model="newKF.val" ng-value="{{feature.val}}" ng-options="o.val as o.val for o in features | unique: 'val'" class="form-control">
                  <option value="">Select Feature Value</option>
              </select> -->
              <!-- <ui-select ng-model="selected.feature[$index]" theme="bootstrap" title="Select Feature Value"
              ng-init="selected.feature[$index] = feature" style="    max-width: 200px;">
                <ui-select-match placeholder="Select Feature Value...">{{$select.selected.val}} </ui-select-match>
                <ui-select-choices repeat="f in features | propsFilter: {val: $select.search}">
                  <span ng-bind-html="f.val | highlight: $select.search"></span>
                </ui-select-choices>
              </ui-select> -->
              <!-- <input type="text" ng-model="feature.val" style="width:150px;" placeholder="Value"/> -->
            </td>
            <td>
                <div class="btn-group">
                  <small></small><button type="submit" class="btn btn-info" ng-click="save(product);"><i class="fa fa-save"></i></button></small>
                 <small> <button type="button" class="btn btn-danger" ng-click="deleteFeature($index,product);"><i class="fa fa-trash-o"></i></button></small>
                </div>
            </td>
        </tr>
        <tr>
            <td>New</td>
            <td>
              <!-- <input type="text" ng-model="newFeature.key" style="width:150px;" placeholder="Key"/> -->
              <select ng-model="newFeature.key" ng-options="o.key as o.key for o in features | unique: 'key'" class="form-control">
                  <option value="">Select Feature</option>
              </select>
            </td>
            <td>
              <select ng-model="newFeature.val" ng-options="o.val as o.val for o in features | unique: 'val'" class="form-control">
                  <option value="">Select Feature Value</option>
              </select>
            <td>

            </td>
        </tr>
    </tbody>
    </table>
               
                <div flex></div>
              </md-content>
              
            </section>
                    </p>
                  </md-content>
                </md-tab>
                 <md-tab label="STATISTICS">
                  <md-content class="md-padding">
                     <section layout="row" flex>
             
              <md-content flex layout-padding>
                
                <div flex></div>
                <table class="table table-striped table-responsive">
    <thead>
        <tr>
            <th>#</th>
            <th>Key</th>
            <th>Value</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="stats in product.stats track by $index">
            <td style="width: 5%">{{$index+1}}</td>
            <td style="width: 30%">
              <input type="text" ng-model="stats.key"  value="stats.key" placeholder="Key"/>
             <!--  <select ng-model="stats.key"  class="form-control">
                  <option value="{{stats.key}}">{{stats.key}}</option>
              </select> -->
            </td>
            <td style="width: 30%">

            <input type="text"  ng-model="stats.val"  value="{{stats.val}}"  class="form-control"></input>
              
              <!-- <ui-select ng-model="selected.feature[$index]" theme="bootstrap" title="Select Feature Value"
              ng-init="selected.feature[$index] = feature" style="    max-width: 200px;">
                <ui-select-match placeholder="Select Feature Value...">{{$select.selected.val}} </ui-select-match>
                <ui-select-choices repeat="f in features | propsFilter: {val: $select.search}">
                  <span ng-bind-html="f.val | highlight: $select.search"></span>
                </ui-select-choices>
              </ui-select> -->
              <!-- <input type="text" ng-model="feature.val" style="width:150px;" placeholder="Value"/> -->
            </td>
            <td style="width: 25%">
                <div class="btn-group">
                  <button type="submit" class="btn btn-info" ng-click="save(product);"><i class="fa fa-save"></i></button>
                  <button type="button" class="btn btn-danger" ng-click="deleteStats($index,product);"><i class="fa fa-trash-o"></i></button>
                </div>
            </td>
        </tr>
        <tr>
            <td>New</td>
            <td>
              <!-- <input type="text" ng-model="newFeature.key" style="width:150px;" placeholder="Key"/> -->
              <select ng-model="newStats.key"  style="width: 150px"ng-options="o.key as o.key for o in statistics | unique: 'key'" class="form-control">
                  <option value="">Select Feature</option>
              </select>
            </td>
            <td>
               <input type="text" ng-model="newStats.val" style="width:70px;" placeholder="Value"/> 
            <td>
                   <div class="btn-group">
                  <button type="submit" class="btn btn-info" ng-click="save(product);"><i class="fa fa-save"></i></button>
                  
            </td>
        </tr>
    </tbody>
    </table>
              </md-content>
              
            </section>
                  </md-content>
                </md-tab>
                <!--running to be inseterd gere-->
                <md-tab label="MEDIAKIT">
                  <md-content class="md-padding">
                     <section layout="row" flex>
             
                  <md-content flex layout-padding>
                  <table class="table table-striped table-responsive">
    <thead>
        <tr>
            <th>#</th>
            <th>sku</th>
            <th>Name</th>
            <th>Price</th>
            <th>Model</th>
            <th>Size</th><!--  ts-default -->
            <th>Max Size</th>
            <th>Formart</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="p in product.variants track by $index" id="{{p._id}}">
            <!-- <td><img src="images/{{p.category}}/{{p.image}}"/> </td>-->
            <td>{{$index+1}}</td>
             <td><input type="text" ng-model="p.sku" style="width:70px;" placeholder="sku"/></td>
            <td><input type="text" ng-model="p.name" style="width:200px;" placeholder="Name"/></td>
            <td><input type="text" ng-model="p.price" style="width:70px;" placeholder="Price"/></td>
            <td><input type="text" ng-model="p.model" style="width:70px;" placeholder="Model"/></td>
            <td><input type="text" ng-model="p.size" style="width:70px;" placeholder="Dimensions/Size"/></td>
            <td><input type="text" ng-model="p.maxSize" style="width:70px;" placeholder="Max Size"/></td>
            
            <td><input type="text" ng-model="p.formart" style="width:100px;" placeholder="Formarts"/></td>
            <td>
                <div class="btn-group">
                  <button type="submit" class="btn btn-info" ng-click="save(product);"><i class="fa fa-save"></i></button>
                  <button type="button" class="btn btn-danger" ng-click="deleteVariants($index,product);"><i class="fa fa-trash-o"></i></button>
                </div>
            </td>
        </tr>
        <tr>
            <!-- <td><img src="images/{{p.category}}/{{p.image}}"/> </td>-->
            <td>New</td>
            <td><input type="text" ng-model="variant.sku" style="width:70px;" placeholder="sku"/></td>
            <td><input type="text" ng-model="variant.name" style="width:200px;" placeholder="Name"/></td>
            <td><input type="text" ng-model="variant.price" style="width:70px;" placeholder="Price"/></td>
            <td>
            <input type="text" ng-model="variant.model" style="width:70px;" placeholder="Model"/></td>
            <td><input type="text" ng-model="variant.size" style="width:70px;" placeholder="Size"/></td>

            <td><input type="text" ng-model="variant.maxSize" style="width:70px;" placeholder="Size"/></td>

            <td><input type="text" ng-model="variant.formart" style="width:100px;" placeholder="formart"/></td>
            <td>
                <div class="btn-group">
                  <button type="submit" class="btn btn-info" ng-click="save(product);"><i class="fa fa-save"></i></button>
                  
            </td>
        </tr>
    </tbody>
    </table>
                
                  </md-content>
                </md-tab>
              </md-tabs>
            </md-content>
          </div>

      <!-- feature and Stats -->
          <!-- <div class="col-md-12">
              <div class="col-md-5"> -->
                  <!-- features -->

                    <!-- <div class="clearfix"></div>
                      <div class="panel panel-primary">
                        <div class="panel-heading">Features 0</div>
                        <div class="panel-body">
                         
                      </div>
                      </div> -->
              <!-- </div>
              <div class="col-md-7"> -->
                <!-- stats -->
                    <!-- <div class="panel panel-primary">
                    <div class="panel-heading">Statistics </div>
                    <div class="panel-body">
                      
                  </div>
                  </div>
                  
              </div>
          </div>
      <hr/>
      <div class="clearfix"></div><br><br> -->
      <!-- mediaKit -->
            <!-- <div class="clearfix"></div>
      <div class="panel panel-primary">
        <div class="panel-heading">MediaKit</div>
        <div class="panel-body">
          
      </div>
      </div>

    </div> -->
</form>
