


<div ng-cloak>
  <md-content>
    <md-tabs md-dynamic-height md-border-bottom>
      <md-tab label="PENDING">
        <md-content class="md-padding">
          
            <section layout="row" flex>
   
    <md-content flex layout-padding>
      <div layout="column" layout-fill layout-align="top center">
        <div class="col-md-12" ng-controller="MediaCtrl as vm">
  <!-- <h3  class="bg-info well text-center">Total Spent: {{campaigns.total | currency}}</h3> -->
<div  ng-repeat=" item in vm.items | groupByMonthYear | orderBy : 'campaignDate' : 'reverse' track by $index" divider-collection-repeat >



<!-- 
      <div class="panel-heading">
            <div class="panel-title"><button class="btn btn-warning">{{o.campaignNo}}</button>&nbsp;{{o.campaignDate | amCalendar}}&nbsp;{{o.campaignName}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{o.startDate|date}}-{{o.endDate|date}}
            <div class="col-sm-3 pull-right" ng-if="isAdmin()">
              <select ng-model="o.status"
              ng-options="i.name for i in vm.campaignStatusLov track by i.val"
              ng-change="vm.changeStatus(o)"
              class="form-control"></select>
             </div>
          </div>
      </div> -->
      <div >
          <table class="table">
              <tbody>
                <tr ng-repeat="i in item.items|filterBy: ['status.val']:402"  class="col-md-12">
                    <td class="col-md-3"> <!-- <img style="width: 100px;" class="product-thumbnail"  data-ng-src="data:image/png;base64,{{i.image}}" data-err-src="images/png/avatar.png"/> -->
                    {{i.advertiser.company}}<br>

                    {{i.advertiser.phone}}<br>
                    {{i.advertiser.email}}<br>


                    </td>
                    <td class="col-md-3">{{i.publisher}}<br>
                    {{i.name}}
                      <br/><span class="text-muted">Qty: {{i.quantity}}</span>
                      <!-- <br/><span class="text-muted">Packing/Size: {{i.size}}</span> -->
                      <br/><span class="text-muted">Unit Price: {{i.price | currency}}</span>
                    </td>
                    <td class="col-md-1"><!-- <button ng-click="vm.openChat(o,i,i.creative,'md')" ><i class="fa fa-comment-o"></i></button> --><br><br><div ng-show="i.status.val=='202'||i.status.val=='300'">
                    <button ng-show="!isAdmin()" ng-click="vm.open(o,i,i.creative,'md')" ><i class="fa fa-image"></i></button>

                    <br>
              
                     <!-- <button ng-click="vm.toggleRight()"ng-hide="isOpenRight()" ><i class="fa fa-paper-plane"></i></button> -->

                    </div>
                    <div ng-show="i.creative">
                      <button   ng-click="vm.openCreative(o,i,i.creative,'md')" ><i class="fa fa-image"></i></button>
                    </div>

                    </td>
                    <td class="col-md-2"><span class="text-muted"><!-- Status {{(i.status.val=='300')? 'Creative Added':(i.status.val=='305')? 'Approved':((i.status.val=='500')?'Rejected': 'New')}} --><span>
                      <div ng-show= "i.status.val=='305'" class="alert alert-success">Approved</div>
                    <div ng-show="!i.creative" class="alert alert-danger" >Creative Needed</div>
                    <div  ng-show = "i.status.val=='402'" class="alert alert-danger" >New</div>
                    <div  ng-show = "i.status.val=='300'" class="alert alert-success" >Ready </div>
                    <div  ng-show = "i.status.val=='500'" class="alert alert-danger" >Rejected </div>
                     <div  ng-show = "i.status.val=='309'" class="alert alert-success" >Complete </div>
                    </span></td>
                    <td class="col-md-2"><span class="text-muted"> 
                     <div  ng-if = "i.status.val=='402'">
                     Action :
                       <select ng-model="i.status"
                        ng-options="p.name for p in vm.campaignStatus track by p.val"
                        ng-change="vm.action(item)"
                        class="form-control"
                        style="max-width: 150px"></select>

                     </div>

                     <div  ng-show = "!i.status.val=='402'" >
                     Action :
                       <select ng-model="i.status"
                        ng-options="p.name for p in vm.campaignStatusCreativeAdded track by p.val"
                        ng-change="vm.action(o)"
                        class="form-control"
                        style="max-width: 150px"></select>

                     </div>


                    
                        </span></td>
                    <td class="col-md-1"><span class="text-muted">= {{i.quantity * i.price | currency}}</span></td>

                </tr>
           <!--      <tr class="well text-muted">
                <td colspan="1" class="text-right"> </td>
                <td class="text-right">Shipping Charge:</td>
                <td colspan="1"> {{o.shipping.charge | currency}}</td>
                </tr> -->
                <!-- <tr class="well text-muted">
                <td colspan="1" class="text-right"> </td>
                <td class="text-right">Coupon:</td>
                <td colspan="1"> $ 0.00{{o.shipping.couponAmount | currency}}</td>
                </tr>
                <tr class="well">
                <td colspan="1" class="text-right"> </td>
                <td class="text-right">Campaign Total:</td>
                <td colspan="1">{{vm.getTotal(o) | currency}}</td>
                </tr> -->


            </tbody>
          </table>

      </div>
</div>
</div>
<!-- chat modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Chat</h4>
          </div>
          <div class="modal-body">
            <simple-chat
                messages="AppView.messages"
                local-user="AppView.you"
            ></simple-chat>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
        <div>
          
        </div>
      </div>
      <div flex></div>
    </md-content>
    <md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id="right">
      <md-toolbar style= "background-color:#555555">
        <h1 class="md-toolbar-tools">Preview Request</h1>
      </md-toolbar>
      <md-content ng-controller="RightCtrl" layout-padding>
        <form>
          <md-datepicker ng-model="request.startDate"  value="{{items.startDate}}" md-placeholder="Start Date"></md-datepicker>
          <br><br>
        <md-datepicker ng-model="request.endDate"  value="{{items.endDate}}" md-placeholder="End Date"></md-datepicker>
          <br> <br>
        <md-datepicker ng-model="request.dueDate"   md-placeholder="Due Date"></md-datepicker>
          <br> <br>
      
      <label>Budget&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
      <input ng-model="request.budget" value="{{p.price}}" type="number" step="0.01">
       <br><br>
      <label>Objective&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
      <input ng-model="request.objective" type="text">
      <br><br>

      <label>Brief&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
      <textarea ng-model = "request.brief" cols="20" rows="3">
        
      </textarea>

         <br><br>
      <label>Contact Name&nbsp;&nbsp;</label>
      <input ng-model="request.contactName" type="text" >

         <br><br>
      <label>Contact Email&nbsp;&nbsp;</label>
      <input ng-model="request.contactEmail" type="text" >
    

        </form>
        <md-button ng-click="close();vm.request(request)" class="md-primary">
          SClose
        </md-button>
        <md-button ng-click="request(request)" class="md-primary">
          Send Request
        </md-button>
      </md-content>
    </md-sidenav>
  </section>
          </p>
        </md-content>
      </md-tab>
       <md-tab label="SCHEDULED">
        <md-content class="md-padding">
           <section layout="row" flex>
   
    <md-content flex layout-padding>
      <div layout="column" layout-fill layout-align="top center">
        <div class="col-md-12" ng-controller="MediaCtrl as vm">
  <!-- <h3  class="bg-info well text-center">Total Spent: {{campaigns.total | currency}}</h3> -->
<div  ng-repeat=" item in vm.items | groupByMonthYear track by $index" divider-collection-repeat >
<!-- 
      <div class="panel-heading">
            <div class="panel-title"><button class="btn btn-warning">{{o.campaignNo}}</button>&nbsp;{{o.campaignDate | amCalendar}}&nbsp;{{o.campaignName}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{o.startDate|date}}-{{o.endDate|date}}
            <div class="col-sm-3 pull-right" ng-if="isAdmin()">
              <select ng-model="o.status"
              ng-options="i.name for i in vm.campaignStatusLov track by i.val"
              ng-change="vm.changeStatus(o)"
              class="form-control"></select>
             </div>
          </div>
      </div> -->
      <div >
         <table class="table">
              <tbody>
                <tr ng-repeat="i in item.items|filterBy: ['status.val']:305" >
                    <td> <!-- <img style="width: 100px;" class="product-thumbnail"  data-ng-src="data:image/png;base64,{{i.image}}" data-err-src="images/png/avatar.png"/> -->
                    {{i.advertiser.company}}<br>

                    {{i.advertiser.phone}}<br>
                    {{i.advertiser.email}}<br>


                    </td>
                    <td>{{i.publisher}}<br>
                    {{i.name}}
                      <br/><span class="text-muted">Qty: {{i.quantity}}</span>
                      <!-- <br/><span class="text-muted">Packing/Size: {{i.size}}</span> -->
                      <br/><span class="text-muted">Unit Price: {{i.price | currency}}</span>
                    </td>
                    <td><!-- <button ng-click="vm.openChat(o,i,i.creative,'md')" ><i class="fa fa-comment-o"></i></button> --><br><br><div ng-show="i.status.val=='202'||i.status.val=='300'">
                    <button ng-show="!isAdmin()" ng-click="vm.open(o,i,i.creative,'md')" ><i class="fa fa-image"></i></button>

                    <br>
              
                     <!-- <button ng-click="vm.toggleRight()"ng-hide="isOpenRight()" ><i class="fa fa-paper-plane"></i></button> -->

                    </div>
                    <div ng-show="isAdmin()">
                      <button ng-show="isAdmin()" ng-click="vm.openCreative(o,i,i.creative,'md')" ><i class="fa fa-image"></i></button>
                    </div>

                    </td>
                    <td><span class="text-muted"><!-- Status {{(i.status.val=='300')? 'Creative Added':(i.status.val=='305')? 'Approved':((i.status.val=='500')?'Rejected': 'New')}} --><span>
                     
                    <div ng-show="!i.creative" class="alert alert-danger" >Creative Needed</div>
                    
                    
                     <div  ng-show="i.creative" class="alert alert-success" >Ready </div>
                    </span></td>
                    <td><span class="text-muted"> Action :<select ng-model="i.status"
                        ng-options="p.name for p in vm.campaignStatusCreativeAdded track by p.val"
                        ng-change="vm.action(item)"
                        class="form-control"
                        style="max-width: 150px"></select></span></td>
                    <td><span class="text-muted">= {{i.quantity * i.price | currency}}</span></td>

                </tr>
           <!--      <tr class="well text-muted">
                <td colspan="1" class="text-right"> </td>
                <td class="text-right">Shipping Charge:</td>
                <td colspan="1"> {{o.shipping.charge | currency}}</td>
                </tr> -->
                <!-- <tr class="well text-muted">
                <td colspan="1" class="text-right"> </td>
                <td class="text-right">Coupon:</td>
                <td colspan="1"> $ 0.00{{o.shipping.couponAmount | currency}}</td>
                </tr>
                <tr class="well">
                <td colspan="1" class="text-right"> </td>
                <td class="text-right">Campaign Total:</td>
                <td colspan="1">{{vm.getTotal(o) | currency}}</td>
                </tr> -->


            </tbody>
          </table>
      </div>
</div>
</div>
<!-- chat modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Chat</h4>
          </div>
          <div class="modal-body">
            <simple-chat
                messages="AppView.messages"
                local-user="AppView.you"
            ></simple-chat>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
        <div>
          
        </div>
      </div>
      <div flex></div>
    </md-content>
    <md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id="right">
      <md-toolbar style= "background-color:#555555">
        <h1 class="md-toolbar-tools">Preview Request</h1>
      </md-toolbar>
      <md-content ng-controller="RightCtrl" layout-padding>
        <form>
          <md-datepicker ng-model="request.startDate"  value="{{items.startDate}}" md-placeholder="Start Date"></md-datepicker>
          <br><br>
        <md-datepicker ng-model="request.endDate"  value="{{items.endDate}}" md-placeholder="End Date"></md-datepicker>
          <br> <br>
        <md-datepicker ng-model="request.dueDate"   md-placeholder="Due Date"></md-datepicker>
          <br> <br>
      
      <label>Budget&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
      <input ng-model="request.budget" value="{{p.price}}" type="number" step="0.01">
       <br><br>
      <label>Objective&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
      <input ng-model="request.objective" type="text">
      <br><br>

      <label>Brief&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
      <textarea ng-model = "request.brief" cols="20" rows="3">
        
      </textarea>

         <br><br>
      <label>Contact Name&nbsp;&nbsp;</label>
      <input ng-model="request.contactName" type="text" >

         <br><br>
      <label>Contact Email&nbsp;&nbsp;</label>
      <input ng-model="request.contactEmail" type="text" >
    

        </form>
        <md-button ng-click="close();vm.request(request)" class="md-primary">
          SClose
        </md-button>
        <md-button ng-click="request(request)" class="md-primary">
          Send Request
        </md-button>
      </md-content>
    </md-sidenav>
  </section>
        </md-content>
      </md-tab>
      <!--running to be inseterd gere-->
      <md-tab label="COMPLETED">
        <md-content class="md-padding">
           <section layout="row" flex>
   
    <md-content flex layout-padding>
      <div layout="column" layout-fill layout-align="top center">
        <div class="col-md-12" ng-controller="MediaCtrl as vm">
  <!-- <h3  class="bg-info well text-center">Total Spent: {{campaigns.total | currency}}</h3> -->
<div  ng-repeat=" item in vm.items | groupByMonthYear track by $index" divider-collection-repeat >
<!-- 
      <div class="panel-heading">
            <div class="panel-title"><button class="btn btn-warning">{{o.campaignNo}}</button>&nbsp;{{o.campaignDate | amCalendar}}&nbsp;{{o.campaignName}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{o.startDate|date}}-{{o.endDate|date}}
            <div class="col-sm-3 pull-right" ng-if="isAdmin()">
              <select ng-model="o.status"
              ng-options="i.name for i in vm.campaignStatusLov track by i.val"
              ng-change="vm.changeStatus(o)"
              class="form-control"></select>
             </div>
          </div>
      </div> -->
      <div >
         <table class="table">
              <tbody>
                <tr ng-repeat="i in item.items|filterBy: ['status.val']:309" >
                    <td> <!-- <img style="width: 100px;" class="product-thumbnail"  data-ng-src="data:image/png;base64,{{i.image}}" data-err-src="images/png/avatar.png"/> -->
                    {{i.advertiser.company}}<br>

                    {{i.advertiser.phone}}<br>
                    {{i.advertiser.email}}<br>


                    </td>
                    <td>{{i.publisher}}<br>
                    {{i.name}}
                      <br/><span class="text-muted">Qty: {{i.quantity}}</span>
                      <!-- <br/><span class="text-muted">Packing/Size: {{i.size}}</span> -->
                      <br/><span class="text-muted">Unit Price: {{i.price | currency}}</span>
                    </td>
                    <td><!-- <button ng-click="vm.openChat(o,i,i.creative,'md')" ><i class="fa fa-comment-o"></i></button> --><br><br><div ng-show="i.status.val=='202'||i.status.val=='300'">
                    <button ng-show="!isAdmin()" ng-click="vm.open(o,i,i.creative,'md')" ><i class="fa fa-image"></i></button>

                    <br>
              
                     <!-- <button ng-click="vm.toggleRight()"ng-hide="isOpenRight()" ><i class="fa fa-paper-plane"></i></button> -->

                    </div>
                    <div ng-show="isAdmin()">
                      <button ng-show="isAdmin()" ng-click="vm.openCreative(o,i,i.creative,'md')" ><i class="fa fa-image"></i></button>
                    </div>

                    </td>
                    <td><span class="text-muted"><!-- Status {{(i.status.val=='300')? 'Creative Added':(i.status.val=='305')? 'Approved':((i.status.val=='500')?'Rejected': 'New')}} --><span>
                      <div ng-show= "i.status.val=='305'" class="alert alert-success">Approved</div>
                    <div ng-hide="i.status.val=='300'||i.status.val=='500'||i.status.val=='402'||i.status.val=='309'" ng-show = "i.status.val=='305'" class="alert alert-danger" >Creative Needed</div>
                    <div  ng-show = "i.status.val=='402'" class="alert alert-danger" >New</div>
                    <div  ng-show = "i.status.val=='300'" class="alert alert-success" >Ready </div>
                    <div  ng-show = "i.status.val=='500'" class="alert alert-danger" >Rejected </div>
                     <div  ng-show = "i.status.val=='309'" class="alert alert-success" >Complete </div>
                    </span></td>
                    <td><!-- <span class="text-muted"> Action :<select ng-model="i.status"
                        ng-options="p.name for p in vm.campaignStatus track by p.val"
                        ng-change="vm.action(o)"
                        class="form-control"
                        style="max-width: 150px"></select> --></span></td>
                    <td><span class="text-muted">= {{i.quantity * i.price | currency}}</span></td>

                </tr>
           <!--      <tr class="well text-muted">
                <td colspan="1" class="text-right"> </td>
                <td class="text-right">Shipping Charge:</td>
                <td colspan="1"> {{o.shipping.charge | currency}}</td>
                </tr> -->
                <!-- <tr class="well text-muted">
                <td colspan="1" class="text-right"> </td>
                <td class="text-right">Coupon:</td>
                <td colspan="1"> $ 0.00{{o.shipping.couponAmount | currency}}</td>
                </tr>
                <tr class="well">
                <td colspan="1" class="text-right"> </td>
                <td class="text-right">Campaign Total:</td>
                <td colspan="1">{{vm.getTotal(o) | currency}}</td>
                </tr> -->


            </tbody>
          </table>
      </div>
</div>
</div>
<!-- chat modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Chat</h4>
          </div>
          <div class="modal-body">
            <simple-chat
                messages="AppView.messages"
                local-user="AppView.you"
            ></simple-chat>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
        <div>
          
        </div>
      </div>
      <div flex></div>
    </md-content>
    <md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id="right">
      <md-toolbar style= "background-color:#555555">
        <h1 class="md-toolbar-tools">Preview Request</h1>
      </md-toolbar>
      <md-content ng-controller="RightCtrl" layout-padding>
        <form>
          <md-datepicker ng-model="request.startDate"  value="{{items.startDate}}" md-placeholder="Start Date"></md-datepicker>
          <br><br>
        <md-datepicker ng-model="request.endDate"  value="{{items.endDate}}" md-placeholder="End Date"></md-datepicker>
          <br> <br>
        <md-datepicker ng-model="request.dueDate"   md-placeholder="Due Date"></md-datepicker>
          <br> <br>
      
      <label>Budget&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
      <input ng-model="request.budget" value="{{p.price}}" type="number" step="0.01">
       <br><br>
      <label>Objective&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
      <input ng-model="request.objective" type="text">
      <br><br>

      <label>Brief&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
      <textarea ng-model = "request.brief" cols="20" rows="3">
        
      </textarea>

         <br><br>
      <label>Contact Name&nbsp;&nbsp;</label>
      <input ng-model="request.contactName" type="text" >

         <br><br>
      <label>Contact Email&nbsp;&nbsp;</label>
      <input ng-model="request.contactEmail" type="text" >
    

        </form>
        <md-button ng-click="close();vm.request(request)" class="md-primary">
          SClose
        </md-button>
        <md-button ng-click="request(request)" class="md-primary">
          Send Request
        </md-button>
      </md-content>
    </md-sidenav>
  </section>
        </md-content>
      </md-tab>
    </md-tabs>
  </md-content>
</div>
